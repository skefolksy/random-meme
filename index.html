<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Progressive web app</title>
    <link rel="stylesheet" href="./style.css">

</head>

<style>
    img {
        width: 80%;
    }
    #content {
        text-align: center;
        margin-top: 20px;
    }

    button {
        margin: 15px;
    }
</style>

<body onload="main()">
    <div class="center">
        <div class="mobile">
            <div id="content">
                <img id="image" src="" alt="">
                <button onclick="main()">Another One</button>
            </div>

        </div>
    </div>
    <script>
        function main() {
            let xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    // Typical action to be performed when the document is ready:
                    let response = xhttp.responseText;
                    console.log("ok" + response);
                    let data = JSON.parse(response)
                    console.log(data)
                    render(data);
                }
            };
            xhttp.open("GET", "https://meme-api.herokuapp.com/gimme", true);

            xhttp.send();
        }

        function render(data) {
            document.getElementById("image").setAttribute("src", data.url);
        }

    </script>
</body>

</html>